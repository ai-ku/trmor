#!/usr/local/bin/xfst -f

clear

source nflect.xfst
substitute label "+Past" for "+Past2"
substitute label "+Narr" for "+Narr2"
define model1
define model [ "+Noun" model1 ];

read regex [ "+Prop""+Noun"* @-> 0 ];
load Milliyet.fst
compose net
lower net
read regex [ "+Noun" ?* ];
read regex ~$[ "+Nom" "^DB" \"+Verb" ];
read regex ~$[ "+Nom" "^DB" "+Verb" \"+Zero"];
intersect net

define test

read regex < nflect.missing.known
read regex [ test - model ];
minus net
print words > nflect.missing
pop

load tfnowords.fst
define tf

read regex < nflect.extra.known
read regex [ model - tf ];
minus net
print words > nflect.extra
pop
